<!-- HERO SECTION -->
<div class="album-hero text-center text-white d-flex align-items-center justify-content-center" data-aos="fade-down">
  <div>
    <h1 class="display-4 fw-bold animate__animated animate__fadeInDown">Glimpse of Our Exports</h1>
    <p class="lead animate__animated animate__fadeInUp mt-3">
      Explore the beauty and diversity of our exported products.
    </p>
  </div>
</div>

<!-- ALBUM MASONRY GRID -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="masonry-grid">
      <% @albums.shuffle.each do |album| %>
        <% if album.images.attached? %>
          <% album.images.shuffle.each do |image| %>
            <div class="masonry-item" data-aos="zoom-in" data-aos-delay="50">
              <a href="<%= url_for(image) %>" class="glightbox" data-gallery="exports-gallery">
                <%= image_tag image, class: "album-photo rounded-4 shadow-sm", alt: album.title.presence || "Export Image" %>
              </a>
            </div>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>
</section>

<!-- GLightbox CSS & JS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" />
<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const lightbox = GLightbox({
      selector: ".glightbox",
      touchNavigation: true,
      loop: true,
      closeButton: true,
      zoomable: true,
      openEffect: "zoom",
      closeEffect: "fade",
    });
  });
</script>

<!-- STYLES -->
<style>
.album-hero {
  height: 50vh;
  background: linear-gradient(rgba(2,72,105,0.7), rgba(2,72,105,0.7)),
              url('https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=1500&q=80') center/cover no-repeat;
}

.masonry-grid {
  column-count: 4;
  column-gap: 1rem;
}

.masonry-item {
  break-inside: avoid;
  margin-bottom: 1rem;
  transition: transform 0.3s ease;
}

.masonry-item:hover {
  transform: translateY(-5px);
}

.album-photo {
  width: 100%;
  border-radius: 1rem;
  object-fit: cover;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.album-photo:hover {
  transform: scale(1.05);
  box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

/* Responsive Masonry */
@media (max-width: 992px) {
  .masonry-grid { column-count: 3; }
}
@media (max-width: 768px) {
  .masonry-grid { column-count: 2; }
}
@media (max-width: 576px) {
  .masonry-grid { column-count: 1; }
  .album-hero { height: 40vh; }
}
</style>
